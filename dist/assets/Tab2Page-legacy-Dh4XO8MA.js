System.register(["./index-legacy-BH3o7yx8.js","./useTasks-legacy-htNfamv0.js"],function(a,e){"use strict";var t,l,n,r,o,u,i,s,c,d,f,m,p,h,y,_,g,k,w,C,v,N,b,x,S,j,K,M,B,E,T,A,J,O,F,G,I;return{setters:[a=>{t=a.d,l=a.r,n=a.a5,r=a.g,o=a.j,u=a.p,i=a.a6,s=a.f,c=a.S,d=a.U,f=a.L,m=a.V,p=a.W,h=a.a7,y=a.a8,_=a.Y,g=a.E,k=a.Z,w=a.v,C=a.b,v=a._,N=a.a1,b=a.i,x=a.G,S=a.a9,j=a.aa,K=a.ab,M=a.a3,B=a.aj,E=a.ac,T=a.e,A=a.ak,J=a.I,O=a.al,F=a.am,G=a.an},a=>{I=a.u}],execute:function(){a("default",t({__name:"Tab2Page",setup(a){const{courses:e,addCourse:t,deleteCourse:P,updateCourse:z,loadData:D}=I(),L=l(null);n(()=>{D()});const R=()=>{var a;null===(a=L.value)||void 0===a||a.click()},U=async a=>{const e=a.target;if(!e.files||0===e.files.length)return;const l=e.files[0],n=new FileReader;n.onload=async a=>{try{var l;const e=null===(l=a.target)||void 0===l?void 0:l.result,n=JSON.parse(e);if(!Array.isArray(n))throw new Error("Format JSON tidak valid.");let r=0;n.forEach(a=>{"string"==typeof a&&(t(a.trim()),r++)});const o=await E.create({message:`${r} mata kuliah berhasil diimpor!`,duration:2e3,color:"success"});await o.present()}catch(n){const a=await E.create({message:"Gagal mengimpor file. Pastikan format JSON sudah benar.",duration:3e3,color:"danger"});await a.present()}finally{e&&(e.value="")}},n.readAsText(l)};return(a,l)=>(T(),r(u(i),null,{default:o(()=>[s(u(_),null,{default:o(()=>[s(u(c),{color:"primary"},{default:o(()=>[s(u(d),null,{default:o(()=>[...l[1]||(l[1]=[f("Mata Kuliah",-1)])]),_:1}),s(u(m),{slot:"end"},{default:o(()=>[s(u(p),{onClick:R},{default:o(()=>[s(u(h),{slot:"icon-only",icon:u(y)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),s(u(M),{fullscreen:!0},{default:o(()=>[g("input",{type:"file",ref_key:"fileInput",ref:L,onChange:U,accept:".json",style:{display:"none"}},null,544),s(u(k),null,{default:o(()=>[0===u(e).length?(T(),r(u(v),{key:0},{default:o(()=>[s(u(N),{class:"ion-text-center"},{default:o(()=>[...l[2]||(l[2]=[f("Belum ada mata kuliah.",-1)])]),_:1})]),_:1})):w("",!0),(T(!0),C(x,null,b(u(e),a=>(T(),r(u(A),{key:a},{default:o(()=>[s(u(v),{button:"",onClick:e=>(async a=>{const e=await B.create({header:"Edit Mata Kuliah",inputs:[{name:"newCourseName",type:"text",value:a,placeholder:"Nama Mata Kuliah"}],buttons:[{text:"Batal",role:"cancel"},{text:"Simpan",handler:e=>{e.newCourseName&&e.newCourseName.trim()!==a&&z(a,e.newCourseName.trim())}}]});await e.present()})(a)},{default:o(()=>[s(u(N),null,{default:o(()=>[f(J(a),1)]),_:2},1024)]),_:2},1032,["onClick"]),s(u(O),{side:"end"},{default:o(()=>[s(u(F),{color:"danger",onClick:e=>{P(a)}},{default:o(()=>[s(u(h),{slot:"icon-only",icon:u(G)},null,8,["icon"])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(u(S),{vertical:"bottom",horizontal:"end",slot:"fixed"},{default:o(()=>[s(u(j),{onClick:l[0]||(l[0]=a=>(async()=>{const a=await B.create({header:"Tambah Mata Kuliah",inputs:[{name:"courseName",type:"text",placeholder:"Nama Mata Kuliah Baru"}],buttons:[{text:"Batal",role:"cancel"},{text:"Simpan",handler:a=>{a.courseName&&t(a.courseName.trim())}}]});await a.present()})())},{default:o(()=>[s(u(h),{icon:u(K)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}))}}))}}});
