System.register(["./index-legacy-D6XJ9JqQ.js","./useTasks-legacy-D0jyNp1b.js","./_plugin-vue_export-helper-legacy-C_w-mMUU.js"],function(e,a){"use strict";var t,l,n,r,s,o,i,d,u,c,p,g,f,v,m,h,x,b,y,_,k,w,S,T,D,z,j,B,C,N,P,F,I,J,O,E,$,A,R,q,G,H,K,M,L,U,W,Y;return{setters:[e=>{t=e._,l=e.d,n=e.r,r=e.o,s=e.c,o=e.a,i=e.w,d=e.u,u=e.I,c=e.b,p=e.e,g=e.f,f=e.g,v=e.h,m=e.i,h=e.j,x=e.k,b=e.t,y=e.l,_=e.n,k=e.m,w=e.p,S=e.q,T=e.s,D=e.F,z=e.v,j=e.x,B=e.y,C=e.z,N=e.A,P=e.B,F=e.C,I=e.D,J=e.E,O=e.G,E=e.H,$=e.J,A=e.K,R=e.L},e=>{q=e.r,G=e.u,H=e.a,K=e.F,M=e.E,L=e.D},e=>{U=e.u,W=e.s,Y=e._}],execute:function(){var Q=document.createElement("style");Q.textContent="h3[data-v-e4675271]{font-weight:700;margin-bottom:12px;margin-top:20px;font-size:18px}.progress-card[data-v-e4675271]{background:#1e1e1e;border-radius:16px;margin:0;border:1px solid #333}.progress-info[data-v-e4675271]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.progress-text h1[data-v-e4675271]{margin:0;font-size:32px;font-weight:800;color:var(--ion-color-primary)}.progress-text p[data-v-e4675271]{margin:0;color:#888;font-size:12px}.progress-numbers[data-v-e4675271]{display:flex;flex-direction:column;gap:4px;align-items:flex-end}.progress-bar-container[data-v-e4675271]{width:100%;height:8px;background:#333;border-radius:4px;overflow:hidden}.progress-fill[data-v-e4675271]{height:100%;background:var(--ion-color-primary);transition:width .5s ease-out}.stats-list[data-v-e4675271]{background:transparent;padding:0}.stats-list ion-item[data-v-e4675271]{--background: transparent;margin-bottom:8px;border:1px solid #222;border-radius:12px}.prio-box[data-v-e4675271]{text-align:center;padding:12px;border-radius:12px;margin:2px;border:1px solid #333;transition:transform .2s}.prio-box[data-v-e4675271]:active{transform:scale(.95)}.prio-box small[data-v-e4675271]{color:#fff;font-size:10px;text-transform:uppercase;font-weight:700;opacity:.8}.prio-box h2[data-v-e4675271]{margin:5px 0 0;font-weight:700;color:#fff}.prio-high[data-v-e4675271]{background:rgba(235,68,90,.25)!important;border:1px solid #eb445a}.prio-med[data-v-e4675271]{background:rgba(255,196,9,.25)!important;border:1px solid #ffc409}.prio-low[data-v-e4675271]{background:rgba(45,211,111,.25)!important;border:1px solid #2dd36f}.settings-list[data-v-e4675271]{background:#1a1a1a;border-radius:12px;overflow:hidden}.empty-text[data-v-e4675271]{color:#666;font-size:14px;padding:10px}\n/*$vite$:1*/",document.head.appendChild(Q);const V=q("Share",{web:()=>t(()=>a.import("./web-legacy-BlFGiURJ.js"),void 0).then(e=>new e.ShareWeb)}),X={class:"stats-section"},Z={class:"progress-info"},ee={class:"progress-text"},ae={class:"progress-numbers"},te={class:"progress-bar-container"},le={class:"stats-section ion-margin-top"},ne={class:"stats-section ion-margin-top"},re={class:"prio-box prio-high"},se={class:"prio-box prio-med"},oe={class:"prio-box prio-low"},ie={class:"ion-margin-top"};e("default",Y(l({__name:"Tab1Page",setup(e){const{tasks:a,importTasks:t,ensureFolder:l,cleanupStorage:q}=G(),{courses:Y}=U(),{requestPermissions:Q}=H(),de=n(null);r(()=>{Q()});const ue=s(()=>a.value.filter(e=>!e.completed).length),ce=s(()=>a.value.filter(e=>e.completed).length),pe=s(()=>0===a.value.length?0:Math.round(ce.value/a.value.length*100)),ge=s(()=>({high:a.value.filter(e=>"Tinggi"===e.priority).length,med:a.value.filter(e=>"Sedang"===e.priority).length,low:a.value.filter(e=>"Rendah"===e.priority).length})),fe=s(()=>Y.value.map(e=>{const t=a.value.filter(a=>a.courseId===e.id);return{name:e.name,count:t.length,pending:t.filter(e=>!e.completed).length}}).sort((e,a)=>a.count-e.count).slice(0,3)),ve=async()=>{const e={tasks:a.value,courses:Y.value,exportedAt:(new Date).toISOString()},t=`backup-nyatettugas-${Date.now()}.json`;try{await l();const a=await K.writeFile({path:`NyatetTugas/${t}`,data:JSON.stringify(e,null,2),directory:L.Documents,encoding:M.UTF8});await V.share({title:"Backup NyatetTugas",url:a.uri,dialogTitle:"Simpan Backup"})}catch(n){alert("Gagal export data.")}},me=()=>{var e;return null===(e=de.value)||void 0===e?void 0:e.click()},he=async e=>{var a;const l=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!l)return;const n=new FileReader;n.onload=async e=>{try{var a;const l=JSON.parse(null===(a=e.target)||void 0===a?void 0:a.result),n=await E.create({header:"Timpa Data?",message:"Data saat ini akan diganti sepenuhnya.",buttons:[{text:"Batal",role:"cancel"},{text:"Ya, Timpa",handler:()=>{l.tasks&&t(l.tasks),l.courses&&(W.set("my_courses_app",l.courses),window.location.reload())}}]});await n.present()}catch(l){alert("JSON tidak valid!")}},n.readAsText(l)},xe=async()=>{await q(),alert("Storage bersih!")};return(e,a)=>($(),o(d(u),null,{default:i(()=>[c(d(v),null,{default:i(()=>[c(d(p),null,{default:i(()=>[c(d(g),null,{default:i(()=>[...a[0]||(a[0]=[f("Dashboard Statistik",-1)])]),_:1})]),_:1})]),_:1}),c(d(O),{class:"ion-padding"},{default:i(()=>[m("div",X,[a[2]||(a[2]=m("h3",null,"Progres Tugas",-1)),c(d(h),{class:"progress-card"},{default:i(()=>[c(d(x),null,{default:i(()=>[m("div",Z,[m("div",ee,[m("h1",null,b(pe.value)+"%",1),a[1]||(a[1]=m("p",null,"Tugas Selesai",-1))]),m("div",ae,[c(d(y),{color:"success"},{default:i(()=>[f(b(ce.value)+" Completed",1)]),_:1}),c(d(y),{color:"warning"},{default:i(()=>[f(b(ue.value)+" Pending",1)]),_:1})])]),m("div",te,[m("div",{class:"progress-fill",style:_({width:pe.value+"%"})},null,4)])]),_:1})]),_:1})]),m("div",le,[a[4]||(a[4]=m("h3",null,"Beban Mata Kuliah",-1)),c(d(k),{class:"stats-list"},{default:i(()=>[($(!0),w(D,null,T(fe.value,e=>($(),o(d(z),{key:e.name,lines:"none"},{default:i(()=>[c(d(N),{icon:d(A),slot:"start",color:"primary"},null,8,["icon"]),c(d(F),null,{default:i(()=>[m("h2",null,b(e.name),1),m("p",null,b(e.count)+" Tugas Total",1)]),_:2},1024),c(d(R),{slot:"end",color:"primary"},{default:i(()=>[f(b(e.pending)+" Pending",1)]),_:2},1024)]),_:2},1024))),128)),0===fe.value.length?($(),o(d(z),{key:0,lines:"none"},{default:i(()=>[...a[3]||(a[3]=[m("p",{class:"empty-text"},"Belum ada data matkul.",-1)])]),_:1})):S("",!0)]),_:1})]),m("div",ne,[a[8]||(a[8]=m("h3",null,"Distribusi Prioritas",-1)),c(d(j),{class:"ion-no-padding"},{default:i(()=>[c(d(B),null,{default:i(()=>[c(d(C),{size:"4"},{default:i(()=>[m("div",re,[a[5]||(a[5]=m("small",null,"Tinggi",-1)),m("h2",null,b(ge.value.high),1)])]),_:1}),c(d(C),{size:"4"},{default:i(()=>[m("div",se,[a[6]||(a[6]=m("small",null,"Sedang",-1)),m("h2",null,b(ge.value.med),1)])]),_:1}),c(d(C),{size:"4"},{default:i(()=>[m("div",oe,[a[7]||(a[7]=m("small",null,"Rendah",-1)),m("h2",null,b(ge.value.low),1)])]),_:1})]),_:1})]),_:1})]),m("div",ie,[a[12]||(a[12]=m("h3",null,"Sistem & Backup",-1)),c(d(k),{class:"settings-list"},{default:i(()=>[c(d(z),{button:"",onClick:ve,lines:"full"},{default:i(()=>[c(d(N),{icon:d(P),slot:"start",color:"primary"},null,8,["icon"]),c(d(F),null,{default:i(()=>[...a[9]||(a[9]=[m("h2",null,"Export JSON",-1),m("p",null,"Simpan backup ke Documents",-1)])]),_:1})]),_:1}),c(d(z),{button:"",onClick:me,lines:"full"},{default:i(()=>[m("input",{type:"file",ref_key:"fileInput",ref:de,style:{display:"none"},accept:".json",onChange:he},null,544),c(d(N),{icon:d(I),slot:"start",color:"primary"},null,8,["icon"]),c(d(F),null,{default:i(()=>[...a[10]||(a[10]=[m("h2",null,"Import JSON",-1),m("p",null,"Pulihkan data dari file",-1)])]),_:1})]),_:1}),c(d(z),{button:"",onClick:xe,lines:"none"},{default:i(()=>[c(d(N),{icon:d(J),slot:"start",color:"danger"},null,8,["icon"]),c(d(F),null,{default:i(()=>[...a[11]||(a[11]=[m("h2",null,"Bersihkan Storage",-1),m("p",null,"Hapus file sampah",-1)])]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}}),[["__scopeId","data-v-e4675271"]]))}}});
