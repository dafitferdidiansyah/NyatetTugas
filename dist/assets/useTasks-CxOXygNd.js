import{o as f,r as d}from"./index-2ytOguj-.js";const i=d([]),s=d([]);function k(){const r=["Belum Dikerjakan","Sedang Dikerjakan","Selesai","Sudah Dikumpulkan"],c=["Rendah","Sedang","Tinggi"],l=()=>{const e=localStorage.getItem("courses");i.value=e?JSON.parse(e):[];const a=localStorage.getItem("tasks");s.value=a?JSON.parse(a):[]},u=()=>{localStorage.setItem("courses",JSON.stringify(i.value.sort())),localStorage.setItem("tasks",JSON.stringify(s.value))};f(l);const n=e=>{e&&!i.value.includes(e)&&(i.value.push(e),u())};return{courses:i,tasks:s,statusOptions:r,priorityOptions:c,addCourse:n,deleteCourse:e=>{i.value=i.value.filter(a=>a!==e),s.value=s.value.filter(a=>a.mata_kuliah!==e),u()},updateCourse:(e,a)=>{const t=i.value.findIndex(o=>o===e);t>-1&&(i.value[t]=a),s.value.forEach(o=>{o.mata_kuliah===e&&(o.mata_kuliah=a)}),u(),l()},saveTask:e=>{const a=new Date().getTime();if(e.id){const t=s.value.findIndex(o=>o.id===e.id);if(t>-1){const o=s.value[t];s.value[t]={...o,...e,modifiedAt:a}}}else e.id=a.toString(),e.createdAt=a,e.modifiedAt=a,s.value.push(e);n(e.mata_kuliah),u(),l()},deleteTask:e=>{s.value=s.value.filter(a=>a.id!==e),u()},addMultipleTasks:e=>{const a=new Date().getTime();e.forEach(t=>{t.id||(t.id=new Date().getTime().toString()+Math.random()),t.createdAt||(t.createdAt=a),t.modifiedAt||(t.modifiedAt=a),s.value.push(t),t.mata_kuliah&&n(t.mata_kuliah)}),u(),l()},toggleTaskStatus:e=>{const a=s.value.find(t=>t.id===e);a&&(a.status==="Selesai"||a.status==="Sudah Dikumpulkan"?a.status="Sedang Dikerjakan":a.status="Selesai",a.modifiedAt=new Date().getTime(),u())},loadData:l}}export{k as u};
